version: 1.0

description: A basic workflow that executes based on a ping service.

input:
  - server_name

tasks:
  task1:
    action: st2track.alertscript server_name=<% ctx(server_name) %>
    next:
      - when: <% succeeded() %>
        publish: <% result().stdout %>
        do: task2

  task2:
    delay: 5
    action: core.echo message="Script Execution finished"
    next:
      - when: <% succeeded() %>
        publish: <% result().stdout %>